{"version":3,"sources":["webpack:///./src/app/valoraciones/valoraciones.module.ts","webpack:///./src/app/valoraciones/valoraciones.page.html","webpack:///./src/app/valoraciones/valoraciones.page.scss","webpack:///./src/app/valoraciones/valoraciones.page.ts"],"names":[],"mappings":"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","file":"valoraciones-valoraciones-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ValoracionesPage } from './valoraciones.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ValoracionesPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ValoracionesPage]\n})\nexport class ValoracionesPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"secondary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title text-center>\\n          <img src=\\\"assets/img/logo.png\\\" width=\\\"30\\\" height=\\\"40\\\" />\\n    </ion-title>\\n  </ion-toolbar> \\n</ion-header>\\n\\n<ion-content padding>\\n  <ion-card>\\n    <ion-card-content>\\n      <ion-card-title>\\n        <ion-grid>\\n          <ion-row align-items-center>\\n            <ion-col size=\\\"auto\\\">\\n              <img src=\\\"assets/servicios/{{iconoservicio}}.png\\\" />\\n            </ion-col>\\n            <ion-col size=\\\"7\\\">\\n              <h1>{{nombreservicio}}</h1>\\n            </ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"12\\\">\\n              <p>{{descripcionservicio}}</p>\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </ion-card-title>\\n    </ion-card-content>\\n  </ion-card>\\n\\n\\n\\n  <ion-list>\\n    <ng-container *ngFor=\\\"let valor of valoraciones; let i=index\\\">\\n    <ng-container *ngIf=\\\"valor.tipovaloracion == 'rango'\\\">\\n    <ion-item text-wrap (click)=\\\"desplegarNivel('idx'+i)\\\" [ngClass]=\\\"{active: rangoVisible('idx'+i)}\\\">\\n        <h5>\\n          {{valor.nombrevaloracion}}\\n          <ion-icon color=\\\"success\\\" [name]=\\\"rangoVisible('idx'+i) ? 'arrow-dropdown' : 'arrow-dropright'\\\"></ion-icon>\\n        </h5>\\n    </ion-item>\\n      <ion-list *ngIf=\\\"rangoVisible('idx'+i)\\\">\\n          <ng-container *ngIf=\\\"valor.tipo == 'emoticon'\\\"> \\n            <ion-grid>\\n              <ion-row text-center>\\n                <ion-col *ngFor=\\\"let subvalor of valor.subs\\\" >\\n                  <div class=\\\"image-container\\\" [style.background-image]=\\\"'url(assets/rangos/'+subvalor.valor+'.png)'\\\" (click)=\\\"valorar(valor.idvaloracion, subvalor.valor, valor.descripcion, valor.tipo)\\\"></div>\\n                </ion-col>\\n              </ion-row>\\n            </ion-grid>\\n          </ng-container>\\n          <ng-container *ngIf=\\\"valor.tipo == 'texto'\\\" text-wrap>\\n              <ion-item *ngFor=\\\"let subvalor of valor.subs\\\" text-wrap (click)=\\\"valorar(valor.idvaloracion, subvalor.valor, valor.descripcion, valor.tipo)\\\" >\\n              {{subvalor.valor}}\\n            </ion-item>\\n          </ng-container>\\n          <ng-container *ngIf=\\\"valor.tipo == 'numerico'\\\" text-wrap>\\n              <ion-grid>\\n                  <ion-row text-center>\\n                    <ion-col *ngFor=\\\"let subvalor of valor.subs\\\" text-wrap>\\n                      <div class=\\\"image-container\\\" [style.background-image]=\\\"'url(assets/numeros/'+subvalor.valor+'.png)'\\\" (click)=\\\"valorar(valor.idvaloracion, subvalor.valor, valor.descripcion, valor.tipo)\\\"></div>\\n                    </ion-col>\\n                  </ion-row>\\n                </ion-grid>\\n          </ng-container>\\n      </ion-list>\\n  </ng-container>\\n  <ng-container *ngIf=\\\"valor.tipovaloracion == 'reclamo'\\\" >\\n    <ng-container >\\n      <ion-item (click)=\\\"reclamo(valor.idvaloracion, valor.nombrevaloracion, valor.descripcion, valor.foto, valor.email)\\\">\\n        <h5>\\n            {{valor.nombrevaloracion}}\\n          </h5>\\n    </ion-item>\\n    </ng-container>\\n  </ng-container>\\n</ng-container>\\n  </ion-list>\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-toolbar color=\\\"tertiary\\\">\\n    <ion-title text-center color=\\\"light\\\">Valoraciones</ion-title>\\n  </ion-toolbar>\\n</ion-footer>\"","module.exports = \".image-container {\\n  background-size: cover;\\n  min-height: 44px; }\\n\\np {\\n  text-align: justify; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmFsb3JhY2lvbmVzL0M6XFxVc2Vyc1xcbWFpbG9cXERvY3VtZW50c1xcY2hlY2twb2ludFxcQ29kaWdvIEZ1ZW50ZVxcQXBwIE1vdmlsL3NyY1xcYXBwXFx2YWxvcmFjaW9uZXNcXHZhbG9yYWNpb25lcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxzQkFBc0I7RUFHdEIsZ0JBQWdCLEVBQUE7O0FBRXBCO0VBQ0ksbUJBQW9CLEVBQUEiLCJmaWxlIjoic3JjL2FwcC92YWxvcmFjaW9uZXMvdmFsb3JhY2lvbmVzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pbWFnZS1jb250YWluZXJ7XHJcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xyXG5cclxuICAgIC8vbWluLWhlaWdodDogMTh2aDtcclxuICAgIG1pbi1oZWlnaHQ6IDQ0cHg7XHJcbn1cclxucHtcclxuICAgIHRleHQtYWxpZ24gOiBqdXN0aWZ5O1xyXG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { SQliteService } from '../s-qlite.service';\nimport { Router, ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-valoraciones',\n  templateUrl: './valoraciones.page.html',\n  styleUrls: ['./valoraciones.page.scss'],\n})\nexport class ValoracionesPage implements OnInit {\n\n  valoraciones: Array<any>;\n  mostrarRango = null;\n  valoracion_actual: string;\n  ubicacion: string;\n  idubicacion_valoracion: number;\n  ubicacionValoracion: Array<any>;\n  descripcionservicio: string;\n  nombreservicio: string;\n  iconoservicio: number;\n  nombre_ubicacion: string;\n\n  constructor(private sqlite: SQliteService,\n              private router: Router,\n              private route: ActivatedRoute) {\n\n        this.ubicacion = this.route.snapshot.paramMap.get('ubicacion');\n        this.descripcionservicio = this.route.snapshot.paramMap.get('descripcion');\n        this.nombreservicio = this.route.snapshot.paramMap.get('nombre');\n        this.iconoservicio = parseInt(this.route.snapshot.paramMap.get('icono'));\n        this.getValoraciones(parseInt(this.route.snapshot.paramMap.get('servicio')), this.ubicacion);\n   }\n\n   desplegarNivel(idx) {\n    if (this.rangoVisible(idx)) {\n      this.mostrarRango = null;\n    } else {\n      this.mostrarRango = idx;\n    }\n    };\n    \n    rangoVisible(idx) {\n      return this.mostrarRango === idx;\n    };\n  \n    \n    getValoraciones(servicio: number, ubicacion: string){\n      this.sqlite.getValoraciones(servicio, ubicacion).then(data =>{ \n      this.valoraciones =  JSON.parse(data);\n      });\n    }\n  \n    reclamo(idvaloracion: number, valor: string, permite_descripcion: number, permite_foto: number, permite_email: number){\n      this.sqlite.getIdUbicacionValoracion(this.ubicacion,idvaloracion).then(data =>{\n        this.idubicacion_valoracion = data;\n        \n        this.sqlite.getNombreUbicacion(this.ubicacion).then(data =>{\n          this.nombre_ubicacion = data;\n  \n          if(permite_descripcion == 1 || permite_foto == 1 || permite_email == 1 ){\n            this.router.navigate(['opcionales', \n                                valor,\n                                'null',\n                                'reclamo',\n                                permite_descripcion,\n                                permite_foto,\n                                permite_email,\n                                this.idubicacion_valoracion,\n                                'null',\n                                this.nombre_ubicacion,\n                                this.nombreservicio]);\n          }else{\n            this.router.navigate(['confirmacion',\n                                valor,\n                                'null',\n                                'reclamo',\n                                this.idubicacion_valoracion,\n                                this.nombreservicio,\n                                'null',\n                                this.nombre_ubicacion,\n                                '',\n                                '',\n                                '',\n                                '']);\n          }\n        });\n         \n        });\n      \n    }\n  \n    valorar(idvaloracion: number, valoracion: string, permite_descripcion: number, tipo_rango: string){\n      let valor: number;\n      switch(valoracion) {\n        case \"Malo\":\n        case \"e1\":\n        case \"1\":\n        valor = 1;\n          break;\n        case \"Regular\":\n        case \"e2\":\n        case \"2\":\n        valor = 2;\n          break;\n        case \"Bueno\":\n        case \"e3\":\n        case \"3\":\n        valor = 3;\n          break;\n        case \"Muy Bueno\":\n        case \"e4\":\n        case \"4\":\n        valor = 4;\n          break;\n        case \"Excelente\":\n        case \"e5\":\n        case \"5\":\n        valor = 5;\n          break;\n      }\n      this.sqlite.getIdUbicacionValoracion(this.ubicacion,idvaloracion).then(data =>{\n        this.idubicacion_valoracion = data;\n  \n        this.sqlite.getNombreUbicacion(this.ubicacion).then(data =>{\n          this.nombre_ubicacion = data;\n  console.log(\"PERMITE DESCRIPCION: \"+permite_descripcion);\n      if(permite_descripcion == 1){\n        this.router.navigate(['opcionales',\n                              valoracion,\n                              valor,\n                              'rango',\n                              1,\n                              0,\n                              0,\n                              this.idubicacion_valoracion,\n                              tipo_rango,\n                              this.nombre_ubicacion,\n                              this.nombreservicio]);\n      }else{\n        this.router.navigate(['confirmacion',\n                                valoracion,\n                                valor,\n                                'rango',\n                                this.idubicacion_valoracion,\n                                this.nombreservicio,\n                                tipo_rango,\n                                this.nombre_ubicacion,\n                                '',\n                                '',\n                                '',\n                                '']);\n      }\n      });\n    });\n  }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n\n\n\n  \n\n\n             \n\n\n  \n\n"],"sourceRoot":""}
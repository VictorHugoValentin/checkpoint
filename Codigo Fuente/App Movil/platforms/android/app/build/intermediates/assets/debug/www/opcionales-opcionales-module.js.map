{"version":3,"sources":["webpack:///./src/app/opcionales/opcionales.module.ts","webpack:///./src/app/opcionales/opcionales.page.html","webpack:///./src/app/opcionales/opcionales.page.scss","webpack:///./src/app/opcionales/opcionales.page.ts"],"names":[],"mappings":"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","file":"opcionales-opcionales-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OpcionalesPage } from './opcionales.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OpcionalesPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [OpcionalesPage]\n})\nexport class OpcionalesPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"secondary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title text-center>\\n          <img src=\\\"assets/img/logo.png\\\" width=\\\"30\\\" height=\\\"40\\\" />\\n    </ion-title>\\n  </ion-toolbar> \\n</ion-header>\\n\\n<ion-content padding>\\n  <form [formGroup]=\\\"todo\\\" (ngSubmit)=\\\"Valorar()\\\">\\n      \\n          <ion-item *ngIf=\\\"permite_descripcion == 1\\\">\\n              <ion-label position=\\\"floating\\\">Descripci√≥n:</ion-label>\\n              <ion-input type=\\\"text\\\"  maxlength=\\\"201\\\" formControlName=\\\"descripcion\\\" [(ngModel)]=\\\"descripcion\\\"></ion-input>\\n          </ion-item>\\n          <div class=\\\"validacion-errores\\\">\\n            <ng-container *ngFor=\\\"let validacion of mensajesValidacion.descripcion\\\">\\n              <div class=\\\"mensaje-error\\\" *ngIf=\\\"todo.get('descripcion').hasError(validacion.tipo) && (todo.get('descripcion').dirty || todo.get('descripcion').touched)\\\">\\n                {{ validacion.mensaje }}\\n              </div>\\n            </ng-container>  \\n          </div>\\n          <ion-item *ngIf=\\\"permite_email == 1\\\">\\n              <ion-label position=\\\"floating\\\">e-Mail:</ion-label>\\n              <ion-input type=\\\"email\\\" maxlength=\\\"76\\\" formControlName=\\\"email\\\" [(ngModel)]=\\\"email\\\"></ion-input>\\n          </ion-item>\\n          <div class=\\\"validacion-errores\\\">\\n            <ng-container *ngFor=\\\"let validacion of mensajesValidacion.email\\\">\\n              <div class=\\\"mensaje-error\\\" *ngIf=\\\"todo.get('email').hasError(validacion.tipo) && (todo.get('email').dirty || todo.get('email').touched)\\\">\\n                {{ validacion.mensaje }}\\n              </div>\\n            </ng-container>  \\n          </div> \\n         \\n        </form>\\n         <div *ngIf=\\\"permite_foto == 1\\\">\\n            <ion-button color=\\\"primary\\\" expand=\\\"full\\\" size=\\\"large\\\"  icon-right (click)=\\\"tomarFoto()\\\">\\n                <ion-icon name=\\\"camera\\\"></ion-icon>\\n              </ion-button>\\n              <img  src=\\\"{{ foto }}\\\"></div>\\n            \\n    <ion-button color=\\\"primary\\\" expand=\\\"full\\\" size=\\\"large\\\"  type=\\\"submit\\\" [disabled]=\\\"!todo.valid\\\"  (click)=\\\"Valorar()\\\">VALORAR</ion-button>\\n  \\n</ion-content>\\n\\n<ion-footer>\\n  <ion-toolbar color=\\\"tertiary\\\">\\n    <ion-title text-center color=\\\"light\\\">Opcionales</ion-title>\\n  </ion-toolbar>\\n</ion-footer>\\n\"","module.exports = \".term {\\n  padding-top: 20px; }\\n\\n.terms-checkbox-label {\\n  overflow: visible;\\n  text-overflow: initial;\\n  white-space: initial;\\n  opacity: 0.5;\\n  font-size: 14px;\\n  font-weight: bold; }\\n\\n.alert {\\n  color: red; }\\n\\n.mensaje-error {\\n  color: #f5a6ac;\\n  font-size: 12px;\\n  font-style: italic; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvb3BjaW9uYWxlcy9DOlxcVXNlcnNcXG1haWxvXFxEb2N1bWVudHNcXGNoZWNrcG9pbnRcXENvZGlnbyBGdWVudGVcXEFwcCBNb3ZpbC9zcmNcXGFwcFxcb3BjaW9uYWxlc1xcb3BjaW9uYWxlcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFUSxpQkFBaUIsRUFBQTs7QUFHbkI7RUFFRSxpQkFBaUI7RUFDakIsc0JBQXNCO0VBQ3RCLG9CQUFvQjtFQUNwQixZQUFZO0VBQ1osZUFBZTtFQUNmLGlCQUFpQixFQUFBOztBQUduQjtFQUVFLFVBQVUsRUFBQTs7QUFHWjtFQUNFLGNBQXlCO0VBQ3pCLGVBQWU7RUFDZixrQkFBa0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL29wY2lvbmFsZXMvb3BjaW9uYWxlcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGVybVxyXG4gICAgICB7XHJcbiAgICAgICAgcGFkZGluZy10b3A6IDIwcHg7XHJcbiAgICAgIH1cclxuICAgICBcclxuICAgICAgLnRlcm1zLWNoZWNrYm94LWxhYmVsXHJcbiAgICAgIHtcclxuICAgICAgICBvdmVyZmxvdzogdmlzaWJsZTtcclxuICAgICAgICB0ZXh0LW92ZXJmbG93OiBpbml0aWFsO1xyXG4gICAgICAgIHdoaXRlLXNwYWNlOiBpbml0aWFsO1xyXG4gICAgICAgIG9wYWNpdHk6IDAuNTtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgIH1cclxuICAgICBcclxuICAgICAgLmFsZXJ0XHJcbiAgICAgIHtcclxuICAgICAgICBjb2xvcjogcmVkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAubWVuc2FqZS1lcnJvcntcclxuICAgICAgICBjb2xvcjogcmdiKDI0NSwgMTY2LCAxNzIpO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICBmb250LXN0eWxlOiBpdGFsaWM7IFxyXG4gICAgfSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { MySqlService } from '../my-sql.service';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { Validators, FormGroup, FormBuilder } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport {WebView} from '@ionic-native/ionic-webview/ngx';\n\n\n@Component({\n  selector: 'app-opcionales',\n  templateUrl: './opcionales.page.html',\n  styleUrls: ['./opcionales.page.scss'],\n})\nexport class OpcionalesPage implements OnInit {\n\n  private todo: FormGroup;\n\n  private base64Image: any = null;\n  private foto: any = null;\n  permite_descripcion: number;\n  permite_foto: number;\n  permite_email: number;\n  valoracion_actual: string;\n\n  email: string;\n  descripcion: string;\n  nombre_ubicacion: string;\n  tipo: string;\n  tipo_rango: string;\n\n  idservicio: number;\n  valor: number;\n  idubicacion_valoracion: number;\n\n  nombreServicio: string;\n  nombreValoracion: string;\n  mensajesValidacion = {\n    'descripcion': [\n        { tipo: 'maxlength', mensaje: 'Maximo 200 caracteres' },\n      ],\n      'email': [\n        { tipo: 'maxlength', mensaje: 'Maximo 75 caracteres' },\n        { tipo: 'pattern', mensaje: 'Formato invalido' },\n      ]\n    };\n\n  constructor(private camara: Camera,\n              private mysql: MySqlService,\n              private formBuilder: FormBuilder,\n              private router: Router,\n              private route: ActivatedRoute,\n              private webview: WebView) { \n\n                this.todo=this.formBuilder.group({\n                  descripcion: ['', Validators.maxLength(200)],\n                  email: ['',Validators.compose([\n                    Validators.maxLength(75),\n                    Validators.pattern(/^[a-zA-Z0-9\\._-]+@[a-zA-Z0-9-]{2,}[.]+(?:[A-Z]{2}|com|org|net|gov|ar|biz|info|mobi|name|aero|jobs|museum)\\b/)])],\n                });\n                    \n                this.email=null;\n                this.descripcion=null;\n                this.nombreValoracion = this.route.snapshot.paramMap.get('valoracion');\n                this.valor = parseInt(this.route.snapshot.paramMap.get('valor'));\n                this.nombreServicio = this.route.snapshot.paramMap.get('nombreservicio');\n                this.idubicacion_valoracion = parseInt(this.route.snapshot.paramMap.get('idubicacion_valoracion'));\n                this.nombre_ubicacion = this.route.snapshot.paramMap.get('nombre_ubicacion');\n                this.tipo = this.route.snapshot.paramMap.get('tipo');\n                this.tipo_rango = this.route.snapshot.paramMap.get('tipo_rango');\n                \n                this.permite_descripcion = parseInt(this.route.snapshot.paramMap.get('permite_descripcion'));\n                this.permite_foto = parseInt(this.route.snapshot.paramMap.get('permite_foto'));\n                this.permite_email = parseInt(this.route.snapshot.paramMap.get('permite_email'));\n              }\n\n              tomarFoto() {\n                const options: CameraOptions = {\n                  quality: 30,\n                  correctOrientation: true,\n                  targetWidth: 600,\n                  targetHeight: 600,\n                  destinationType: this.camara.DestinationType.FILE_URI,\n                  encodingType: this.camara.EncodingType.JPEG,\n                  mediaType: this.camara.MediaType.PICTURE\n                }\n                \n                this.camara.getPicture(options).then((imageData) => {\n                  this.foto = this.webview.convertFileSrc(imageData); \n                  this.base64Image = imageData;                 \n              });\n            }\n                     \n              Valorar(){\n                if(this.tipo == 'rango'){\n                  if(this.descripcion == null){\n                        this.descripcion = '';\n                  }\n                        this.router.navigate(['confirmacion', \n                                      this.nombreValoracion,\n                                      this.valor,\n                                      this.tipo,\n                                      this.idubicacion_valoracion,\n                                      this.nombreServicio,\n                                      this.tipo_rango,\n                                      this.nombre_ubicacion,\n                                      '',\n                                      '',\n                                      '',\n                                      this.descripcion]);\n                }else{\n                  if(this.foto == null){\n                      this.foto = '';\n                  }\n                  if(this.base64Image == null){\n                    this.base64Image = '';\n                  }\n                  if(this.email == null){\n                    this.email = '';\n                  }\n                  if(this.descripcion == null){\n                    this.descripcion = '';\n                  }\n                        this.router.navigate(['confirmacion', \n                                      this.nombreValoracion,\n                                      'null',\n                                      this.tipo,\n                                      this.idubicacion_valoracion,\n                                      this.nombreServicio,\n                                      'null',\n                                      this.nombre_ubicacion, \n                                      this.foto,\n                                      this.base64Image,\n                                      this.email,\n                                      this.descripcion]);\n                }\n                  \n              }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n\n  "],"sourceRoot":""}